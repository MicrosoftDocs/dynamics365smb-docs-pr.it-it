---
title: Gestire l'archiviazione eliminando documenti o comprimendo i dati
description: Informazioni su come conservare i dati storici comprimendo i movimenti contabili o eliminarli.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: b17e4df039ef713bf5c0048d258aefd175157ba4
ms.sourcegitcommit: a9d48272ce61e5d512a30417412b5363e56abf30
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 03/04/2021
ms.locfileid: "5493049"
---
# <a name="manage-storage-by-deleting-documents-or-compressing-data"></a><span data-ttu-id="867a9-103">Gestire l'archiviazione eliminando documenti o comprimendo i dati</span><span class="sxs-lookup"><span data-stu-id="867a9-103">Manage Storage by Deleting Documents or Compressing Data</span></span>

<span data-ttu-id="867a9-104">Un ruolo centrale, ad esempio l'amministratore dell'applicazione, deve occuparsi regolarmente dell'accumularsi dei documenti storici, eliminandoli o comprimendoli.</span><span class="sxs-lookup"><span data-stu-id="867a9-104">A central role, such as the application administrator, must regularly deal with accumulating historic documents by deleting or compressing them.</span></span>  

> [!TIP]
> <span data-ttu-id="867a9-105">Per informazioni su altri modi di ridurre la quantità di dati archiviati in un database, vedi [Ridurre i dati archiviati nei database di Business Central](/dynamics365/business-central/dev-itpro/administration/database-reduce-data) nella guida per sviluppatori e professionisti IT.</span><span class="sxs-lookup"><span data-stu-id="867a9-105">For information about other ways to reduce the amount of data stored in a database, see [Reducing Data Stored in Business Central Databases](/dynamics365/business-central/dev-itpro/administration/database-reduce-data) in the Developer and IT pro help.</span></span>

## <a name="delete-documents"></a><span data-ttu-id="867a9-106">Eliminare documenti</span><span class="sxs-lookup"><span data-stu-id="867a9-106">Delete Documents</span></span>

<span data-ttu-id="867a9-107">In certe situazioni, si ha la necessità di eliminare degli ordini di acquisto fatturati.</span><span class="sxs-lookup"><span data-stu-id="867a9-107">In certain situations, you may need to delete invoiced purchase orders that have not been deleted.</span></span> [!INCLUDE[prod_short](includes/prod_short.md)] <span data-ttu-id="867a9-108">verifica che gli ordini di acquisto eliminati siano stati completamente fatturati.</span><span class="sxs-lookup"><span data-stu-id="867a9-108">checks that you have fully invoiced the deleted purchase orders.</span></span> <span data-ttu-id="867a9-109">Non è possibile eliminare ordini che non siano stati completamente fatturati e ricevuti.</span><span class="sxs-lookup"><span data-stu-id="867a9-109">You cannot delete orders that you have not fully invoiced and received.</span></span>  

<span data-ttu-id="867a9-110">Gli ordini di reso sono in genere eliminati dopo la fatturazione.</span><span class="sxs-lookup"><span data-stu-id="867a9-110">Return orders are usually deleted after they are invoiced.</span></span> <span data-ttu-id="867a9-111">Quando si registra una fattura, viene trasferita nella pagina **Note credito acq. registrate** .</span><span class="sxs-lookup"><span data-stu-id="867a9-111">When you post an invoice, it is transferred to the **Posted Purchase Credit Memo** page.</span></span> <span data-ttu-id="867a9-112">Se si seleziona la casella di controllo **Spediz. resi in nota credito** nella pagina **Setup contabilità fornitori**, la fattura viene trasferita nella pagina **spedizione reso registrata**.</span><span class="sxs-lookup"><span data-stu-id="867a9-112">If you selected the **Return Shipment on Credit Memo** check box on the **Purchases & Payable Setup** page, then the invoice is transferred to the **Posted Return Shipment** page.</span></span> <span data-ttu-id="867a9-113">È possibile eliminare i documenti mediante il processo batch **Rimuovi ordini resi acq. fatt.** .</span><span class="sxs-lookup"><span data-stu-id="867a9-113">You can delete the documents using the **Delete Invd Purch. Ret. Orders** batch job.</span></span> <span data-ttu-id="867a9-114">Prima di eliminarli, il processo batch verifica se gli ordini di reso acquisto sono completamente spediti e fatturati.</span><span class="sxs-lookup"><span data-stu-id="867a9-114">Before deleting, the batch job checks if the purchase return orders are fully shipped and invoiced.</span></span>  

<span data-ttu-id="867a9-115">Gli ordini di acquisto programmati non vengono eliminati dopo aver elaborato e fatturato tutti gli ordini di acquisto correlati.</span><span class="sxs-lookup"><span data-stu-id="867a9-115">Blanket purchase orders are not deleted after you have processed and invoiced all the related purchase orders.</span></span> <span data-ttu-id="867a9-116">È possibile eliminare ordini programmati tramite il processo batch **Elimina ordini acq. progr. fatturati**.</span><span class="sxs-lookup"><span data-stu-id="867a9-116">You can delete blanket orders with the **Delete Invoiced Blanket Purchase Orders** batch job.</span></span>  

<span data-ttu-id="867a9-117">Gli ordini di assistenza fatturati vengono in genere eliminati automaticamente dopo che sono stati completamente fatturati.</span><span class="sxs-lookup"><span data-stu-id="867a9-117">Invoiced service orders are usually deleted automatically after having been fully invoiced.</span></span> <span data-ttu-id="867a9-118">Quando si registra una fattura, viene creato un movimento corrispondente nella pagina **Fatture assistenza registrate**.</span><span class="sxs-lookup"><span data-stu-id="867a9-118">When an invoice is posted, a corresponding entry is created on the **Posted Service Invoices** page.</span></span> <span data-ttu-id="867a9-119">Il documento registrato può essere visualizzato nella pagina **Fattura assistenza registrata**.</span><span class="sxs-lookup"><span data-stu-id="867a9-119">The posted document can be viewed on the **Posted Service Invoice** page.</span></span>  

<span data-ttu-id="867a9-120">Gli ordini di assistenza non vengono, tuttavia, eliminati automaticamente se la quantità totale indicata nell'ordine è stata registrata non dall'ordine stesso, ma dalla pagina **Fattura assistenza**.</span><span class="sxs-lookup"><span data-stu-id="867a9-120">Service orders are not deleted automatically, however, if the total quantity on the order has been posted not from the service order itself, but from the **Service Invoice** page.</span></span> <span data-ttu-id="867a9-121">In questo caso può essere necessario eliminare ordini fatturati che non sono stati eliminati.</span><span class="sxs-lookup"><span data-stu-id="867a9-121">Then you may need to delete invoiced orders that were not deleted.</span></span> <span data-ttu-id="867a9-122">Per eseguire questa operazione, utilizzare il processo batch **Elimina ordini assistenza fatturati**.</span><span class="sxs-lookup"><span data-stu-id="867a9-122">You can do this by running the **Delete Invoiced Service Orders** batch job.</span></span>  

## <a name="compress-data-with-date-compression"></a><span data-ttu-id="867a9-123">Comprimere i dati con la compressione della data</span><span class="sxs-lookup"><span data-stu-id="867a9-123">Compress Data with Date Compression</span></span>

<span data-ttu-id="867a9-124">È possibile comprimere i dati in [!INCLUDE [prod_short](includes/prod_short.md)] in modo da risparmiare spazio nel database, che in [!INCLUDE [prod_short](includes/prod_short.md)] online può anche far risparmiare denaro.</span><span class="sxs-lookup"><span data-stu-id="867a9-124">You can compress data in [!INCLUDE [prod_short](includes/prod_short.md)] so that you save space in the database, which in [!INCLUDE [prod_short](includes/prod_short.md)] online can even save you money.</span></span> <span data-ttu-id="867a9-125">La compressione si basa sulle date e consiste nel combinare diversi movimenti vecchi in un unico movimento nuovo.</span><span class="sxs-lookup"><span data-stu-id="867a9-125">The compression is based on dates and works by combining several old entries into one new entry.</span></span> <span data-ttu-id="867a9-126">È possibile comprimere soltanto movimenti appartenenti ad anni fiscali chiusi e movimenti contabili fornitori nel cui campo **Aperto** è impostato su *No*.</span><span class="sxs-lookup"><span data-stu-id="867a9-126">You can compress entries from closed fiscal years only, and only vendor ledger entries where the **Open** field is set to *No*.</span></span>  

<span data-ttu-id="867a9-127">Ad esempio, i movimenti di registro fornitori dell'ultimo anno fiscale trascorso possono essere compressi in modo da ottenere un solo valore di dare/avere per ogni mese.</span><span class="sxs-lookup"><span data-stu-id="867a9-127">For example, vendor ledger entries from previous fiscal years can be compressed so that there is only one credit and one debit entry per account per month.</span></span> <span data-ttu-id="867a9-128">L'importo del nuovo movimento corrisponderà alla somma di tutti i movimenti compressi.</span><span class="sxs-lookup"><span data-stu-id="867a9-128">The amount in the new entry is the sum of all the compressed entries.</span></span> <span data-ttu-id="867a9-129">La data assegnata sarà la data iniziale del periodo compresso, ad esempio il primo giorno del mese se i movimenti sono stati compressi per mese.</span><span class="sxs-lookup"><span data-stu-id="867a9-129">The date assigned is the starting date for the period that is compressed, such as the first day of the month (if the entries are compressed by month).</span></span> <span data-ttu-id="867a9-130">In seguito alla compressione sarà comunque possibile visualizzare il saldo periodo per ogni conto dell'anno fiscale trascorso.</span><span class="sxs-lookup"><span data-stu-id="867a9-130">After the compression, you can still see the net change for each account in the previous fiscal year.</span></span>

<span data-ttu-id="867a9-131">Il numero dei movimenti creati da una compressione data dipende dal numero di filtri impostati, dai campi che vengono associati e dalla durata del periodo.</span><span class="sxs-lookup"><span data-stu-id="867a9-131">The number of entries that result from a date compression depends on how many filters you set, which fields are combined, and which period length you choose.</span></span> <span data-ttu-id="867a9-132">Il risultato del processo sarà sempre di almeno un movimento.</span><span class="sxs-lookup"><span data-stu-id="867a9-132">There will always be at least one entry.</span></span> <span data-ttu-id="867a9-133">Al termine del processo batch è possibile visualizzare il risultato nella pagina **Registri compressione data**.</span><span class="sxs-lookup"><span data-stu-id="867a9-133">When the batch job is finished, you can see the result in the **Date Compr. Registers** page.</span></span>

<span data-ttu-id="867a9-134">È possibile comprimere i seguenti tipi di dati in [!INCLUDE [prod_short](includes/prod_short.md)] utilizzando i processi batch:</span><span class="sxs-lookup"><span data-stu-id="867a9-134">You can compress the following types of data in [!INCLUDE [prod_short](includes/prod_short.md)] using batch jobs:</span></span>

* <span data-ttu-id="867a9-135">Movimenti contabili C/C bancari</span><span class="sxs-lookup"><span data-stu-id="867a9-135">Bank account ledger entries</span></span>

  <span data-ttu-id="867a9-136">In seguito alla compressione, tramite la funzione **Mantieni contenuto campo** è possibile mantenere le informazioni dei campi **Nr. Documento, Cod. Nostro Contatto**, **Cod. Dimens. Globale 1** e **Cod. Dimens. Globale 2**.</span><span class="sxs-lookup"><span data-stu-id="867a9-136">After the compression, with the **Retain Field Contents** facility, you can retain the contents of the **Document No., Our Contact**, **Global Dimension 1 Code**, and **Global Dimension 2 Code** fields.</span></span>
* <span data-ttu-id="867a9-137">Movimenti contabili fornitori</span><span class="sxs-lookup"><span data-stu-id="867a9-137">Vendor ledger entries</span></span>

> [!NOTE]
> <span data-ttu-id="867a9-138">I movimenti compressi per clienti, fornitori, banca e registri secondari cespiti vengono registrati in modo leggermente diverso rispetto alla registrazione standard.</span><span class="sxs-lookup"><span data-stu-id="867a9-138">Compressed entries for customers, vendors, bank, and FA subledgers are posted slightly differently than standard posting.</span></span> <span data-ttu-id="867a9-139">Ciò serve a ridurre il numero di nuovi movimenti di contabilità generale creati dalla compressione della data ed è particolarmente importante quando si conservano informazioni quali dimensioni e numeri di documento.</span><span class="sxs-lookup"><span data-stu-id="867a9-139">This is to reduce the number of new general ledger entries created by date compression, and is especially important when you keep information such as dimensions and document numbers.</span></span> <span data-ttu-id="867a9-140">La compressione della data crea nuovi movimenti come segue:</span><span class="sxs-lookup"><span data-stu-id="867a9-140">Date compression creates new entries as follows:</span></span>
>* <span data-ttu-id="867a9-141">Nella pagina **Movimenti C/G** vengono creati nuovi movimenti con nuovi numeri per i movimenti compressi.</span><span class="sxs-lookup"><span data-stu-id="867a9-141">On the **General Ledger Entries** page, new entries are created with new entry numbers for the compressed entries.</span></span> <span data-ttu-id="867a9-142">Il campo **Descrizione** contiene **Data compressa** in modo da rendere i movimenti compressi facili da identificare.</span><span class="sxs-lookup"><span data-stu-id="867a9-142">The **Description** field contains **Date Compressed** so that the compressed entries are easy to identify.</span></span> 
>* <span data-ttu-id="867a9-143">Nelle pagine dei movimenti, ad esempio **Movimenti contabili clienti**, vengono creati uno o più movimenti con i nuovi numeri di movimento.</span><span class="sxs-lookup"><span data-stu-id="867a9-143">On ledger pages, such as the **Customer Ledger Entries** page, one or more entries are created with new entry numbers.</span></span> 
> <span data-ttu-id="867a9-144">Il processo di registrazione crea interruzioni nella numerazione per i movimenti nella pagina **Movimenti C/G**.</span><span class="sxs-lookup"><span data-stu-id="867a9-144">The posting process creates gaps in the number series for entries on the **General Ledger Entries** page.</span></span> <span data-ttu-id="867a9-145">Questi numeri vengono assegnati solo ai movimenti nelle pagine dei movimenti contabili.</span><span class="sxs-lookup"><span data-stu-id="867a9-145">Those numbers are assigned to the entries on the ledger pages only.</span></span> <span data-ttu-id="867a9-146">L'intervallo di numeri assegnato ai movimenti è disponibile nella pagina **Registro C/G**, nei campi **Dal nr. movimento** e **Al nr. movimento**.</span><span class="sxs-lookup"><span data-stu-id="867a9-146">The number range that was assigned to the entries is available on the **G/L Register page**  in the **From Entry No.** and **To Entry No.** fields.</span></span> 

<span data-ttu-id="867a9-147">In seguito alla compressione verranno sempre mantenute le informazioni contenute nei seguenti campi: **Data di registrazione**, **Nr. fornitore**, **Tipo di documento**, **Codice valuta**, **Categoria registrazione**, **Importo**, **Importo residuo**, **Importo originario (VL)**, **Importo residuo (VL)**, **Importo (VL)**, **Acquisti (VL)**, **Sconto fattura (VL)**, **Sconto pagam. applicato (VL)** e **Colleg. sconto pag. possibile**.</span><span class="sxs-lookup"><span data-stu-id="867a9-147">After the compression, the contents of the following fields are always retained: **Posting Date**, **Vendor No.**, **Document Type**, **Currency Code**, **Posting Group**, **Amount**, **Remaining Amount**, **Original Amt. (LCY)**, **Remaining Amt. (LCY)**, **Amount (LCY)**, **Purchase (LCY)**, **Inv. Discount (LCY)**, **Pmt. Disc. Given (LCY)**, and **Pmt. Disc. Possible**.</span></span>

  <span data-ttu-id="867a9-148">Con la funzionalità **Mantieni contenuto campo** è inoltre possibile mantenere anche le informazioni contenute nei campi aggiuntivi seguenti: **Nr. documento**, **Acquistare da - Nr. for.**, **Cod. addetto acq.**, **Cod. dimens. globale 1** e **Cod. dimens. globale 2**.</span><span class="sxs-lookup"><span data-stu-id="867a9-148">With the **Retain Field Contents** facility, you can also retain the contents of these additional fields: **Document No.**, **Buy-from Vendor No.**, **Purchaser Code**, **Global Dimension 1 Code**, and **Global Dimension 2 Code**.</span></span>

> [!NOTE]
> <span data-ttu-id="867a9-149">Dopo aver eseguito la compressione della data, tutti i conti nel libro mastro vengono bloccati.</span><span class="sxs-lookup"><span data-stu-id="867a9-149">After you run date compression, all accounts in the ledger are locked.</span></span> <span data-ttu-id="867a9-150">Ad esempio, non è possibile annullare l'applicazione di movimenti contabili bancari o fornitore per qualsiasi conto durante il periodo in cui le date sono compresse.</span><span class="sxs-lookup"><span data-stu-id="867a9-150">For example, you cannot un-apply vendor or bank ledger entries for any accounts during the period for which dates are compressed.</span></span>

<!--* General ledger entries
* Customer ledger entries-->
<!--* Fixed asset ledger entries
* G/L budget entries
* VAT entries

  After the compression the contents of the following fields are always retained: **Posting Date**, **Type**, **Closed**, **Gen. Bus. Posting Group**, **Gen. Prod. Posting Group**, **VAT Calculation Type**, **Base**, and **Amount**.

  With the **Retain Field Contents** facility, you can also retain the contents of the following additional fields: **Document No.**, **Bill-to/Pay-to No.**, **EU 3-Party Trade**, **Country/Region Code**, and **Internal Ref. No.**.
* Insurance ledger entries
* Maintenance ledger entries
* Resource ledger entries

  After the compression, the contents of the following fields are retained: **Posting Date**, **Resource No.**, **Resource Group No.**, **Entry Type**, **Quantity**, **Total Cost**, **Total Price**, and **Chargeable**.

  With the **Retain Field Contents** facility, you can also retain the contents of the following additional fields: **Document No.**, **Work Type Code**, **Job No.**, **Unit of Measure Code**, **Source Type**, **Source No.**. **Chargeable**, **
* Warehouse entries

  After the compression the contents of the following fields are always retained: **Registering Date**, **Location Code**, **Zone Code**, **Bin Code**, **Item No.**, **Quantity**, **Qty. (Base)**, **Bin Type Code**, **Entry Type**, **Variant Code**, **Qty. per Unit of Measure**, **Unit of Measure Code**, **Warranty Date**, **Expiration Date**, **Cubage**, and **Weight**.

  With the **Retain Field Contents** facility, you can also retain the contents of the **Serial No.** and **Lot No.** fields. -->

<span data-ttu-id="867a9-151">Il numero dei movimenti creati da un processo batch di compressione data dipende dal numero di filtri impostati, dai campi che vengono associati e dalla durata del periodo.</span><span class="sxs-lookup"><span data-stu-id="867a9-151">The number of entries that result from a Date Compress batch job depends on how many filters you set, which fields are combined, and which period length you choose.</span></span> <span data-ttu-id="867a9-152">Il risultato del processo sarà sempre di almeno un movimento.</span><span class="sxs-lookup"><span data-stu-id="867a9-152">There will always be at least one entry.</span></span> 

> [!WARNING]
> <span data-ttu-id="867a9-153">Poiché la compressione data elimina del tutto i movimenti, è consigliabile eseguire sempre una copia di backup del database prima di eseguire questo processo batch.</span><span class="sxs-lookup"><span data-stu-id="867a9-153">Date Compression deletes entries, so you should always make a backup copy of the database before you run the batch job.</span></span>

<span data-ttu-id="867a9-154">La tabella seguente elenca i campi della scheda dettaglio **Opzioni** disponibili in tutti i processi batch.</span><span class="sxs-lookup"><span data-stu-id="867a9-154">The following table lists the fields on the **Options** FastTab that are available on all batch jobs.</span></span> <span data-ttu-id="867a9-155">La sezione **Mantieni contenuto campo** include i campi aggiuntivi sono descritti sopra.</span><span class="sxs-lookup"><span data-stu-id="867a9-155">The **Retain Field Contents** section includes additional fields are described above.</span></span>

|<span data-ttu-id="867a9-156">Campo</span><span class="sxs-lookup"><span data-stu-id="867a9-156">Field</span></span>  |<span data-ttu-id="867a9-157">Descrizione</span><span class="sxs-lookup"><span data-stu-id="867a9-157">Description</span></span>  |
|-------|-------------|
|<span data-ttu-id="867a9-158">Data inizio</span><span class="sxs-lookup"><span data-stu-id="867a9-158">Starting Date</span></span>     |<span data-ttu-id="867a9-159">Immettere in questo campo la data iniziale da includere nella compressione.</span><span class="sxs-lookup"><span data-stu-id="867a9-159">Enter the first date to be included in the date compression.</span></span> <span data-ttu-id="867a9-160">La compressione comprenderà tutti i movimenti compresi fra questa data e la data finale.</span><span class="sxs-lookup"><span data-stu-id="867a9-160">The compression will affect all entries from this date to the Ending Date.</span></span>|
|<span data-ttu-id="867a9-161">Data fine</span><span class="sxs-lookup"><span data-stu-id="867a9-161">Ending Date</span></span>     |<span data-ttu-id="867a9-162">Immettere in questo campo la data finale da includere nella compressione.</span><span class="sxs-lookup"><span data-stu-id="867a9-162">Enter the last date to be included in the date compression.</span></span> <span data-ttu-id="867a9-163">La compressione comprenderà tutti i movimenti compresi fra la data iniziale e questa data.</span><span class="sxs-lookup"><span data-stu-id="867a9-163">The compression will affect all entries from the Starting Date to this date.</span></span>|
|<span data-ttu-id="867a9-164">Durata periodo</span><span class="sxs-lookup"><span data-stu-id="867a9-164">Period Length</span></span> |<span data-ttu-id="867a9-165">Scegliere la durata del periodo interessato dalla compressione.</span><span class="sxs-lookup"><span data-stu-id="867a9-165">Select the length of the period whose entries will be combined.</span></span> <span data-ttu-id="867a9-166">Per visualizzare le opzioni, selezionare il campo.</span><span class="sxs-lookup"><span data-stu-id="867a9-166">Choose the field to see the options.</span></span> <span data-ttu-id="867a9-167">Se la durata del periodo selezionata è *Trimestre*, *Mese* o *Settimana*, saranno compressi soltanto i movimenti che condividono uno stesso periodo contabile.</span><span class="sxs-lookup"><span data-stu-id="867a9-167">If you selected the period length *Quarter*, *Month*, or *Week*, only entries with a common accounting period are compressed.</span></span>|
|<span data-ttu-id="867a9-168">Mantieni contenuto campo</span><span class="sxs-lookup"><span data-stu-id="867a9-168">Retain Field Contents</span></span>     |<span data-ttu-id="867a9-169">Inserire un segno di spunta nelle caselle relative ai campi di cui si desidera mantenere le informazioni anche quando i movimenti siano stati compressi.</span><span class="sxs-lookup"><span data-stu-id="867a9-169">Place check marks in the boxes if you want to retain the contents of certain fields even though the entries are compressed.</span></span> <span data-ttu-id="867a9-170">Maggiore è il numero dei campi selezionati, più dettagliati saranno i movimenti compressi.</span><span class="sxs-lookup"><span data-stu-id="867a9-170">The more fields you select, the more detailed the compressed entries will be.</span></span> <span data-ttu-id="867a9-171">Se nessuno di questi campi viene selezionato, verrà creato un solo movimento per ognuno dei periodi selezionati nel campo **Lunghezza periodo**.</span><span class="sxs-lookup"><span data-stu-id="867a9-171">If you do not select any of these fields, the batch job will create one entry per day, week, or another period, according to the period selected in the **Period Length** field.</span></span> |

## <a name="see-also"></a><span data-ttu-id="867a9-172">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="867a9-172">See Also</span></span>

[<span data-ttu-id="867a9-173">Amministrazione</span><span class="sxs-lookup"><span data-stu-id="867a9-173">Administration</span></span>](admin-setup-and-administration.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]