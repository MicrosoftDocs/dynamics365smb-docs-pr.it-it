---
title: Sintesi della riga di registrazione di contabilità generale | Microsoft Docs
description: In questo argomento vengono presentate le modifiche alla Codeunit 12, **Registrazioni Gen.-Riga di registrazione**, ovvero il principale oggetto applicazione per la registrazione di contabilità generale e la sola area per registrare contabilità generale, IVA e movimenti contabili di clienti e fornitori.
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: design, general ledger, post
ms.date: 06/08/2021
ms.author: edupont
ms.openlocfilehash: 1f6060eb7672b332fb570eb13fe027a3b58e6594
ms.sourcegitcommit: 0953171d39e1232a7c126142d68cac858234a20e
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 06/09/2021
ms.locfileid: "6215255"
---
# <a name="general-journal-post-line-overview"></a><span data-ttu-id="927c8-103">Sintesi della riga di registrazione di contabilità generale</span><span class="sxs-lookup"><span data-stu-id="927c8-103">General Journal Post Line Overview</span></span>

<span data-ttu-id="927c8-104">Codeunit 12, **Registrazioni Gen.-Riga di registrazione**, è il principale oggetto applicazione per la registrazione di contabilità generale ed è la sola area per registrare contabilità generale, IVA e movimenti contabili di clienti e fornitori.</span><span class="sxs-lookup"><span data-stu-id="927c8-104">Codeunit 12, **Gen. Jnl.-Post Line**, is the major application object for general ledger posting and is the only place to insert general ledger, VAT, and customer and vendor ledger entries.</span></span> <span data-ttu-id="927c8-105">Questa codeunit viene inoltre utilizzata per tutte le operazioni Collega, Scollega e Storna.</span><span class="sxs-lookup"><span data-stu-id="927c8-105">This codeunit is also used for all Apply, Unapply and Reverse operations.</span></span>  
  
<span data-ttu-id="927c8-106">In Microsoft Dynamics NAV 2013 R2, la codeunit è stata ridisegnata perché era diventata molto grande, con circa 7.600 righe di codice.</span><span class="sxs-lookup"><span data-stu-id="927c8-106">In Microsoft Dynamics NAV 2013 R2, the codeunit was redesigned because it had become very large, with approximately 7,600 code lines.</span></span> <span data-ttu-id="927c8-107">Questa architettura è stato modificata e la codeunit è stata resa più semplice e gestibile.</span><span class="sxs-lookup"><span data-stu-id="927c8-107">The architecture was changed and the codeunit has been made simpler and more maintainable.</span></span> <span data-ttu-id="927c8-108">La documentazione descrive le modifiche e fornisce informazioni necessarie per aggiornare.</span><span class="sxs-lookup"><span data-stu-id="927c8-108">This documentation describes the changes and provides information that you will need for upgrade.</span></span>  
  
## <a name="old-architecture"></a><span data-ttu-id="927c8-109">Architettura precedente</span><span class="sxs-lookup"><span data-stu-id="927c8-109">Old Architecture</span></span>  
<span data-ttu-id="927c8-110">L'architettura precedente aveva le seguenti funzionalità:</span><span class="sxs-lookup"><span data-stu-id="927c8-110">The old architecture had the following features:</span></span>  
  
* <span data-ttu-id="927c8-111">Era presente un utilizzo esteso delle variabili globali, il che aumentava la possibilità di errori nascosti causati dall'utilizzo di variabili con l'ambito errato.</span><span class="sxs-lookup"><span data-stu-id="927c8-111">There was extensive use of global variables, which increased the possibility of hidden errors due to use of variables with the wrong scope.</span></span>  
* <span data-ttu-id="927c8-112">Erano presenti numerose procedure lunghe (con più di 100 righe di codice) che avevano inoltre complessità ciclomatica elevata (ovvero molte istruzioni CASE, REPEAT, IF nidificate), il che ha reso il codice molto difficile da leggere e gestire.</span><span class="sxs-lookup"><span data-stu-id="927c8-112">There were many long procedures (with more than 100 code lines) that also had high cyclomatic complexity (that is, a lot of CASE, REPEAT, IF nested statements), which made the code very difficult to read and maintain.</span></span>  
* <span data-ttu-id="927c8-113">Diverse procedure che erano utilizzate solo in locale e avevano lo scopo di essere utilizzate solo localmente non erano contrassegnate come locali.</span><span class="sxs-lookup"><span data-stu-id="927c8-113">Several procedures that were only used locally and were only meant to be used locally were not marked as local.</span></span>  
* <span data-ttu-id="927c8-114">La maggior parte delle procedure non avevano parametri e utilizzavano variabili globali.</span><span class="sxs-lookup"><span data-stu-id="927c8-114">Most procedures had no parameters and used global variables.</span></span> <span data-ttu-id="927c8-115">Alcuni parametri utilizzati e variabili globali sostituite con locali.</span><span class="sxs-lookup"><span data-stu-id="927c8-115">Some used parameters and overrode global variables with locals.</span></span>  
* <span data-ttu-id="927c8-116">I modelli di codice per la ricerca dei conti di contabilità generale e la creazione di movimenti IVA e di contabilità generale non sono stati standardizzati e modificati a seconda delle aree.</span><span class="sxs-lookup"><span data-stu-id="927c8-116">Code patterns for searching the general ledger accounts and creating general ledger and VAT entries was not standardized and varied from place to place.</span></span> <span data-ttu-id="927c8-117">Inoltre, era presente molto codice duplicato e tra molti codici cliente e fornitore mancava simmetria.</span><span class="sxs-lookup"><span data-stu-id="927c8-117">In addition, there was a lot of code duplication and broken symmetry between customer and vendor code.</span></span>  
* <span data-ttu-id="927c8-118">Gran parte del codice nella codeunit 12, circa il 30%, relativo ai calcoli di tolleranza e di sconto sul pagamento, sebbene queste funzionalità non siano necessarie in molti paesi.</span><span class="sxs-lookup"><span data-stu-id="927c8-118">A large part of the code in codeunit 12, approximately 30 percent, related to payment discount and tolerance calculations, although these features are not needed in many countries or regions.</span></span>  
* <span data-ttu-id="927c8-119">Registrazione, Collega, Scollega, Storna, Sconto e tolleranza pagamento e Rettifica tasso di cambio sono state unite nella codeunit 12 utilizzando un lungo elenco di variabili globali.</span><span class="sxs-lookup"><span data-stu-id="927c8-119">Posting, Apply, Unapply, Reverse, Payment Discount and Tolerance, and Exchange Rate Adjustment were married together in codeunit 12 using a long list of global variables.</span></span>  
  
### <a name="new-architecture"></a><span data-ttu-id="927c8-120">Nuova Architettura</span><span class="sxs-lookup"><span data-stu-id="927c8-120">New Architecture</span></span>  
<span data-ttu-id="927c8-121">In [!INCLUDE[prod_short](includes/prod_short.md)], sono stati apportati i seguenti miglioramenti alla codeunit 12:</span><span class="sxs-lookup"><span data-stu-id="927c8-121">In [!INCLUDE[prod_short](includes/prod_short.md)], codeunit 12 has had the following improvements:</span></span>  
  
* <span data-ttu-id="927c8-122">Per Codeunit 12 è stato eseguito il refactoring in procedure più piccole (tutte minori di 100 righe di codice).</span><span class="sxs-lookup"><span data-stu-id="927c8-122">Codeunit 12 has been refactored into smaller procedures (all less than 100 code lines).</span></span>  
* <span data-ttu-id="927c8-123">I modelli standardizzati per la ricerca dei conti di contabilità generale sono stati implementati utilizzando le funzioni di helper delle tabelle di Categoria registrazione.</span><span class="sxs-lookup"><span data-stu-id="927c8-123">Standardized patterns for the search of general ledger accounts have been implemented by using helper functions from Posting Group tables.</span></span>  
* <span data-ttu-id="927c8-124">Un Framework del motore di registrazione è stato implementato per gestire l'inizio e la fine delle transazioni e per isolare la creazione in contabilità generale, movimenti VAT, raccolta di rettifica VAT e calcolo di importi in valuta aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="927c8-124">A Posting Engine Framework has been implemented to manage the start and finish of transactions and to isolate the creation to general ledger and VAT entries, the collection of VAT adjustment, and the calculation of additional currency amounts.</span></span>  
* <span data-ttu-id="927c8-125">La duplicazione di codice è stata eliminata.</span><span class="sxs-lookup"><span data-stu-id="927c8-125">Code duplication has been eliminated.</span></span>  
* <span data-ttu-id="927c8-126">Numerose funzioni di helper sono state trasferite alle corrispondenti tabelle dei movimenti contabili fornitore e cliente.</span><span class="sxs-lookup"><span data-stu-id="927c8-126">Many helper functions have been transferred to corresponding customer and vendor ledger entry tables.</span></span>  
* <span data-ttu-id="927c8-127">L'utilizzo delle variabili globali è stato minimizzato, in modo che ogni procedura utilizzi parametri e incapsuli la propria la logica di collegamento.</span><span class="sxs-lookup"><span data-stu-id="927c8-127">The use of global variables has been minimized, so that each procedure uses parameters and encapsulates its own application logic.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="927c8-128">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="927c8-128">See Also</span></span>

[<span data-ttu-id="927c8-129">Dettagli di progettazione: Struttura dell'interfaccia di registrazione</span><span class="sxs-lookup"><span data-stu-id="927c8-129">Design Details: Posting Interface Structure</span></span>](design-details-posting-interface-structure.md)  
[<span data-ttu-id="927c8-130">Dettagli di progettazione: struttura del motore di registrazione</span><span class="sxs-lookup"><span data-stu-id="927c8-130">Design Details: Posting Engine Structure</span></span>](design-details-posting-engine-structure.md)  
[<span data-ttu-id="927c8-131">Dettagli di progettazione: Riga di registrazione di contabilità generale (Dynamics NAV)</span><span class="sxs-lookup"><span data-stu-id="927c8-131">Design Details: General Journal Post Line (Dynamics NAV)</span></span>](/dynamics-nav-app/design-details-general-journal-post-line)  


[!INCLUDE[footer-include](includes/footer-banner.md)]