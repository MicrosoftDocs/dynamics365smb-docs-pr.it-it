---
title: Connettersi a Microsoft Dataverse
description: È possibile integrare altre app con Business Central tramite Microsoft Dataverse. Questo articolo fornisce suggerimenti e trucchi per impostare le connessioni.
author: bholtorf
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 04/26/2021
ms.author: bholtorf
ms.openlocfilehash: ebe708efacbaa03d5f10deb7b21b090222f28818
ms.sourcegitcommit: 61e279b253370cdf87b7bc1ee0f927e4f0521344
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 05/19/2021
ms.locfileid: "6063479"
---
# <a name="connect-to-microsoft-dataverse"></a><span data-ttu-id="0dfec-104">Connettersi a Microsoft Dataverse</span><span class="sxs-lookup"><span data-stu-id="0dfec-104">Connect to Microsoft Dataverse</span></span>

[!INCLUDE[prod_short](includes/cc_data_platform_banner.md)]

<span data-ttu-id="0dfec-105">Questo argomento descrive come impostare una connessione tra [!INCLUDE[prod_short](includes/prod_short.md)] e [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-105">This topic describes how to set up a connection between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="0dfec-106">In genere, le aziende creano la connessione per integrare e sincronizzare i dati con un'altra app aziendale di Dynamics 365, ad esempio [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-106">Typically, businesses create the connection to integrate and synchronize data with another Dynamics 365 business app, such as [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>  

## <a name="before-you-start"></a><span data-ttu-id="0dfec-107">Operazioni preliminari</span><span class="sxs-lookup"><span data-stu-id="0dfec-107">Before You Start</span></span>

<span data-ttu-id="0dfec-108">Prima di creare la connessione, è necessario disporre di alcune informazioni:</span><span class="sxs-lookup"><span data-stu-id="0dfec-108">There are a few pieces of information to have ready before you create the connection:</span></span>  

* <span data-ttu-id="0dfec-109">L'URL per l'ambiente [!INCLUDE[cds_long_md](includes/cds_long_md.md)] a cui vuoi connetterti.</span><span class="sxs-lookup"><span data-stu-id="0dfec-109">The URL for the [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment that you want to connect to.</span></span> <span data-ttu-id="0dfec-110">Se si utilizza la guida al setup assistito **Setup connessione a Dataverse** per creare la connessione individueremo i tuoi ambienti, ma puoi anche inserire l'URL di un altro ambiente nel tuo tenant.</span><span class="sxs-lookup"><span data-stu-id="0dfec-110">If you use the **Dataverse Connection Setup** assisted setup guide to create the connection we will discover your environments, but you can also enter the URL of another environment in your tenant.</span></span>  
* <span data-ttu-id="0dfec-111">Il nome utente e la password di un account che dispone di autorizzazioni di amministratore in [!INCLUDE[prod_short](includes/prod_short.md)] e [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-111">The user name and password of an account that has administrator permissions in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
* <span data-ttu-id="0dfec-112">Se disponi del primo ciclo di rilascio del 2020 di [!INCLUDE[prod_short](includes/prod_short.md)] locale, versione 16.5, leggi l'articolo [Alcuni problemi noti](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services).</span><span class="sxs-lookup"><span data-stu-id="0dfec-112">If you have an on-premises [!INCLUDE[prod_short](includes/prod_short.md)] 2020 release wave 1, version 16.5, read the [Some Known Issues](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services) article.</span></span> <span data-ttu-id="0dfec-113">Dovrai completare la soluzione alternativa descritta prima di poter creare la connessione a [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-113">You'll have to complete the described workaround before you can create your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>
* <span data-ttu-id="0dfec-114">La valuta locale della società in [!INCLUDE[prod_short](includes/prod_short.md)] deve essere la stessa della valuta della transazione di base in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-114">The local currency for the company in [!INCLUDE[prod_short](includes/prod_short.md)] must be the same as the base transaction currency in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="0dfec-115">Dopo aver impostato una transazione di base in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] non è possibile cambiarla.</span><span class="sxs-lookup"><span data-stu-id="0dfec-115">After a base transaction is set in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] it cannot be changed.</span></span> <span data-ttu-id="0dfec-116">Per ulteriori informazioni, vedere [Entità della valuta (valuta) di transazione](/powerapps/developer/data-platform/transaction-currency-currency-entity).</span><span class="sxs-lookup"><span data-stu-id="0dfec-116">For more information, see [Transaction Currency (currency) entity](/powerapps/developer/data-platform/transaction-currency-currency-entity).</span></span> <span data-ttu-id="0dfec-117">Ciò significa che tutte le società [!INCLUDE[prod_short](includes/prod_short.md)] che colleghi a un'organizzazione [!INCLUDE[cds_long_md](includes/cds_long_md.md)] devono utilizzare la stessa valuta.</span><span class="sxs-lookup"><span data-stu-id="0dfec-117">This means that all [!INCLUDE[prod_short](includes/prod_short.md)] companies you connect to a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] organization must use the same currency.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0dfec-118">L'ambiente [!INCLUDE[cds_long_md](includes/cds_long_md.md)] non deve essere in modalità di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="0dfec-118">Your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment must not be in Administration mode.</span></span> <span data-ttu-id="0dfec-119">La modalità di amministrazione causerà la mancata connessione perché l'account utente di integrazione per la connessione non dispone delle autorizzazioni di amministratore.</span><span class="sxs-lookup"><span data-stu-id="0dfec-119">Administration mode will cause the connection to fail because the integration user account for the connection does not have administrator permissions.</span></span> <span data-ttu-id="0dfec-120">Per ulteriori informazioni, vedere [Modalità di amministrazione](/power-platform/admin/admin-mode).</span><span class="sxs-lookup"><span data-stu-id="0dfec-120">For more information, see [Administration mode](/power-platform/admin/admin-mode).</span></span>

> [!Note]
> <span data-ttu-id="0dfec-121">Tali passaggi descrivono la procedura per [!INCLUDE[prod_short](includes/prod_short.md)] online.</span><span class="sxs-lookup"><span data-stu-id="0dfec-121">These steps describe the procedure for [!INCLUDE[prod_short](includes/prod_short.md)] online.</span></span>
> <span data-ttu-id="0dfec-122">Se stai utilizzando [!INCLUDE[prod_short](includes/prod_short.md)] locale e non si sta utilizzando l'account Azure Active Directory per connettersi a [!INCLUDE [cds_long_md](includes/cds_long_md.md)], devi inoltre specificare un nome utente e una password di un account utente per l'integrazione.</span><span class="sxs-lookup"><span data-stu-id="0dfec-122">If you are using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises and are not using Azure Active Directory account to connect to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], you must also specify a user name and password of a user account for the integration.</span></span> <span data-ttu-id="0dfec-123">Questo account viene definito account "utente integrazione".</span><span class="sxs-lookup"><span data-stu-id="0dfec-123">This account is referred to as the "integration user" account.</span></span> <span data-ttu-id="0dfec-124">Se si sta usando un account Azure Active Directory l'account utente di integrazione non è richiesto o visualizzato.</span><span class="sxs-lookup"><span data-stu-id="0dfec-124">If you are using an Azure Active Directory account the integration user account is not required or displayed.</span></span> <span data-ttu-id="0dfec-125">L'utente dell'integrazione verrà impostato automaticamente e non richiede una licenza.</span><span class="sxs-lookup"><span data-stu-id="0dfec-125">The integration user will be set up automatically and does not require a license.</span></span>

## <a name="set-up-a-connection-to-cds_long_md"></a><span data-ttu-id="0dfec-126">Impostare una connessione a [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-126">Set Up a Connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="0dfec-127">Per tutti i tipi di autenticazione diversi dall'autenticazione di Microsoft 365, si imposta la connessione su [!INCLUDE[cds_long_md](includes/cds_long_md.md)] nella pagina **Setup connessione a Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-127">For all authentication types other than Microsoft 365 authentication, you set up your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on the **Dataverse Connection Setup** page.</span></span> <span data-ttu-id="0dfec-128">Per l'autenticazione di Microsoft 365, è consigliabile utilizzare la guida al setup assistito **Setup connessione a Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-128">For Microsoft 365 authentication, we recommend that you use the **Dataverse Connection Setup** assisted setup guide.</span></span> <span data-ttu-id="0dfec-129">La guida rende più semplice configurare la connessione e specificare le funzionalità avanzate, ad esempio il modello di proprietà e la sincronizzazione iniziale.</span><span class="sxs-lookup"><span data-stu-id="0dfec-129">The guide makes it easier to set up the connection and specify advanced features, such as the ownership model and initial synchronization.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="0dfec-130">Durante il setup della connessione a [!INCLUDE[cds_long_md](includes/cds_long_md.md)], all'amministratore verrà chiesto di concedere le autorizzazioni seguenti per un'applicazione Azure registrata denominata [!INCLUDE[prod_short](includes/prod_short.md)] Integration a [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:</span><span class="sxs-lookup"><span data-stu-id="0dfec-130">During the setup of the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], the administrator will be asked to give following permissions to a registered Azure application named [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:</span></span>
>
> * <span data-ttu-id="0dfec-131">L'autorizzazione di **accesso a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] come utente corrente** è necessaria affinché [!INCLUDE[prod_short](includes/prod_short.md)] possa, per conto dell'amministratore, creare automaticamente un utente dell'applicazione di integrazione [!INCLUDE[prod_short](includes/prod_short.md)] senza licenza e non interattivo, assegnare ruoli di sicurezza a tale utente e distribuire la soluzione di integrazione [!INCLUDE[prod_short](includes/prod_short.md)] in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-131">**Access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] as you** permission is needed so [!INCLUDE[prod_short](includes/prod_short.md)] can, on behalf of administrator, automatically create non-licensed non-interactive [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user, assign security roles to this user and to deploy [!INCLUDE[prod_short](includes/prod_short.md)] Integration Solution to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="0dfec-132">Questa autorizzazione viene utilizzata una sola volta durante il setup della connessione a [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-132">This permission is used only once during set up of connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
> * <span data-ttu-id="0dfec-133">L'autorizzazione **Accesso completo a Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** è necessaria in modo che l'utente dell'applicazione [!INCLUDE[prod_short](includes/prod_short.md)] Integration creato automaticamente possa accedere ai dati di [!INCLUDE[prod_short](includes/prod_short.md)] che verranno sincronizzati.</span><span class="sxs-lookup"><span data-stu-id="0dfec-133">**Have full access to Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** permission is needed so automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user can access [!INCLUDE[prod_short](includes/prod_short.md)] data that will be synchronized.</span></span>  
> * <span data-ttu-id="0dfec-134">L'autorizzazione **Accedi e leggi il profilo** è necessaria per verificare che l'accesso dell'utente abbia effettivamente assegnato il ruolo di sicurezza Amministratore di sistema in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-134">**Sign in and read your profile** permission is needed to verify user logging in actually has System Administrator security role assigned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
>
> <span data-ttu-id="0dfec-135">Fornendo il consenso per conto dell'organizzazione, l'amministratore autorizza l'applicazione Azure registrata chiamata [!INCLUDE[prod_short](includes/prod_short.md)] Integration per [!INCLUDE[cds_long_md](includes/cds_long_md.md)] a sincronizzare i dati usando le credenziali dell'utente dell'applicazione [!INCLUDE[prod_short](includes/prod_short.md)] Integration creato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="0dfec-135">By giving consent on behalf of organization, the administrator is entitling the registered Azure application called [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to synchronize data using automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user's credentials.</span></span>

### <a name="to-use-the-dataverse-connection-setup-assisted-setup-guide"></a><span data-ttu-id="0dfec-136">Utilizzare la guida al setup assistito Setup connessione a Dataverse</span><span class="sxs-lookup"><span data-stu-id="0dfec-136">To use the Dataverse Connection Setup assisted setup guide</span></span>
<span data-ttu-id="0dfec-137">La guida Setup connessione a Dataverse può semplificare la connessione delle applicazioni e può persino aiutarti a eseguire una sincronizzazione iniziale.</span><span class="sxs-lookup"><span data-stu-id="0dfec-137">The Dataverse Connection Setup guide can make it easier to connect the applications, and can even help you run an initial synchronization.</span></span> <span data-ttu-id="0dfec-138">Se scegli di eseguire la sincronizzazione iniziale, [!INCLUDE[prod_short](includes/prod_short.md)] esaminerà i dati in entrambe le applicazioni e fornirà suggerimenti sulla sincronizzazione iniziale.</span><span class="sxs-lookup"><span data-stu-id="0dfec-138">If you choose to run initial synchronization, [!INCLUDE[prod_short](includes/prod_short.md)] will review the data in both applications and provide recommendations for how to approach initial synchronization.</span></span> <span data-ttu-id="0dfec-139">Nella seguente tabella vengono illustrati i suggerimenti.</span><span class="sxs-lookup"><span data-stu-id="0dfec-139">The following table describes the recommendations.</span></span>

|<span data-ttu-id="0dfec-140">Suggerimento</span><span class="sxs-lookup"><span data-stu-id="0dfec-140">Recommendation</span></span>  |<span data-ttu-id="0dfec-141">Descrizione</span><span class="sxs-lookup"><span data-stu-id="0dfec-141">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="0dfec-142">**Sincronizzazione completa**</span><span class="sxs-lookup"><span data-stu-id="0dfec-142">**Full synchronization**</span></span>|<span data-ttu-id="0dfec-143">I dati esistono solo in [!INCLUDE[prod_short](includes/prod_short.md)] o solo in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-143">Data exists only in [!INCLUDE[prod_short](includes/prod_short.md)], or only in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="0dfec-144">Il suggerimento è di sincronizzare tutti i dati dal servizio in cui si trovano all'altro servizio.</span><span class="sxs-lookup"><span data-stu-id="0dfec-144">The recommendation is to synchronize all data from the service that has it to the other service.</span></span>|
|<span data-ttu-id="0dfec-145">**Nessuna sincronizzazione**</span><span class="sxs-lookup"><span data-stu-id="0dfec-145">**No synchronization**</span></span>|<span data-ttu-id="0dfec-146">I dati esistono in entrambe le applicazioni e l'esecuzione della sincronizzazione completa duplicherebbe i dati.</span><span class="sxs-lookup"><span data-stu-id="0dfec-146">Data exists in both applications, and running full synchronization would duplicate the data.</span></span> <span data-ttu-id="0dfec-147">Il suggerimento è di associare i record.</span><span class="sxs-lookup"><span data-stu-id="0dfec-147">The recommendation is to couple records.</span></span>|
|<span data-ttu-id="0dfec-148">**Dipendenza non soddisfatta**</span><span class="sxs-lookup"><span data-stu-id="0dfec-148">**Dependency not satisfied**</span></span>|<span data-ttu-id="0dfec-149">I dati esistono in entrambe le applicazioni, ma la riga o la tabella non possono essere sincronizzate perché dipende da una riga o da una tabella con il suggerimento Nessuna sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="0dfec-149">Data exists in both applications, but the row or table cannot be synchronized because it depends on a row or table that has the No synchronization recommendation.</span></span> <span data-ttu-id="0dfec-150">Ad esempio, se i clienti non possono essere sincronizzati, non è possibile sincronizzare neanche i dati per i contatti che dipendono dai dati del cliente.</span><span class="sxs-lookup"><span data-stu-id="0dfec-150">For example, if customers cannot be synchronized, then data for contacts that depends on the customer data cannot be synchronized either.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="0dfec-151">In genere, utilizzi la sincronizzazione completa solo quando si integrano le applicazioni per la prima volta e solo un'applicazione contiene dati.</span><span class="sxs-lookup"><span data-stu-id="0dfec-151">Typically, you only use full synchronization when you're integrating the applications for the first time, and only one application contains data.</span></span> <span data-ttu-id="0dfec-152">La sincronizzazione completa può essere utile in un ambiente dimostrativo perché crea e associa automaticamente i record in ciascuna applicazione, il che rende più veloce iniziare a lavorare con i dati sincronizzati.</span><span class="sxs-lookup"><span data-stu-id="0dfec-152">Full synchronization can be useful in a demonstration environment because it automatically creates and couples records in each application, which makes it faster to start working with synchronized data.</span></span> <span data-ttu-id="0dfec-153">Tuttavia, devi eseguire la sincronizzazione completa solo se desideri una riga in [!INCLUDE[prod_short](includes/prod_short.md)] per ogni riga in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] per i mapping di tabella.</span><span class="sxs-lookup"><span data-stu-id="0dfec-153">However, you should only run full synchronization if you want one row in [!INCLUDE[prod_short](includes/prod_short.md)] for each row in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] for the table mappings.</span></span> <span data-ttu-id="0dfec-154">In caso contrario, il risultato può essere record duplicati.</span><span class="sxs-lookup"><span data-stu-id="0dfec-154">Otherwise, the result can be duplicate records.</span></span>

1. <span data-ttu-id="0dfec-155">Scegliere l'icona a forma di ![lampadina che consente di aprire la funzionalità delle informazioni](media/ui-search/search_small.png "Informazioni sull'operazione che si desidera eseguire"), immettere **Setup assistito** e quindi scegliere il collegamento correlato.</span><span class="sxs-lookup"><span data-stu-id="0dfec-155">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="0dfec-156">Scegliere **Impostare una connessione a Microsoft Dataverse** per avviare la guida al setup assistito.</span><span class="sxs-lookup"><span data-stu-id="0dfec-156">Choose **Set up a connection to Microsoft Dataverse** to start the assisted setup guide.</span></span>
3. <span data-ttu-id="0dfec-157">Compilare i campi in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="0dfec-157">Fill in the fields as necessary.</span></span>

> [!NOTE]
> <span data-ttu-id="0dfec-158">Se non viene richiesto di accedere con il proprio account amministratore, è probabile che i popup siano bloccati.</span><span class="sxs-lookup"><span data-stu-id="0dfec-158">If you are not prompted to sign in with your administrator account, it is probably because pop-ups are blocked.</span></span> <span data-ttu-id="0dfec-159">Per accedere, consentire i popup da `https://login.microsoftonline.com`.</span><span class="sxs-lookup"><span data-stu-id="0dfec-159">To sign in, allow pop-ups from `https://login.microsoftonline.com`.</span></span>

### <a name="to-create-or-maintain-the-connection-manually"></a><span data-ttu-id="0dfec-160">Per creare o gestire la connessione manualmente</span><span class="sxs-lookup"><span data-stu-id="0dfec-160">To create or maintain the connection manually</span></span>

<span data-ttu-id="0dfec-161">La procedura seguente illustra come configurare la connessione manualmente nella pagina **Setup connessione a Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-161">The following procedure describes how to set up the connection manually on the **Dataverse Connection Setup** page.</span></span> <span data-ttu-id="0dfec-162">Questa è anche la pagina in cui si gestiscono le impostazioni per l'integrazione.</span><span class="sxs-lookup"><span data-stu-id="0dfec-162">This is also the page where you manage settings for the integration.</span></span>

1. <span data-ttu-id="0dfec-163">Scegliere l'icona a forma di ![lampadina che consente di aprire la funzionalità delle informazioni](media/ui-search/search_small.png "Informazioni sull'operazione che si desidera eseguire"), immettere **Setup connessione Dataverse** e quindi scegliere il collegamento correlato.</span><span class="sxs-lookup"><span data-stu-id="0dfec-163">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="0dfec-164">Immettere le seguenti informazioni per la connessione da [!INCLUDE[prod_short](includes/prod_short.md)] a [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-164">Enter the following information for the connection from [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>

    |<span data-ttu-id="0dfec-165">Campo</span><span class="sxs-lookup"><span data-stu-id="0dfec-165">Field</span></span>|<span data-ttu-id="0dfec-166">Descrizione</span><span class="sxs-lookup"><span data-stu-id="0dfec-166">Description</span></span>|
    |-----|-----|
    |<span data-ttu-id="0dfec-167">**URL ambiente**</span><span class="sxs-lookup"><span data-stu-id="0dfec-167">**Environment URL**</span></span>|<span data-ttu-id="0dfec-168">Se sei proprietario di ambienti in [!INCLUDE[cds_long_md](includes/cds_long_md.md)], li troveremo per te quando esegui la guida al setup.</span><span class="sxs-lookup"><span data-stu-id="0dfec-168">If you own environments in [!INCLUDE[cds_long_md](includes/cds_long_md.md)], we will find those for you when you run the setup guide.</span></span> <span data-ttu-id="0dfec-169">Se desideri connetterti a un altro ambiente in un altro tenant, puoi immettere le credenziali di amministratore per l'ambiente e verranno individuate.</span><span class="sxs-lookup"><span data-stu-id="0dfec-169">If you want to connect to a different environment in another tenant, you can enter the administrator credentials for the environment and we will discover those.</span></span> |
    |<span data-ttu-id="0dfec-170">**Abilitato**</span><span class="sxs-lookup"><span data-stu-id="0dfec-170">**Enabled**</span></span>|<span data-ttu-id="0dfec-171">Iniziare a utilizzare l'integrazione.</span><span class="sxs-lookup"><span data-stu-id="0dfec-171">Start using the integration.</span></span> <span data-ttu-id="0dfec-172">Se non si abilita la connessione subito, le impostazioni di connessione verranno salvate, ma gli utenti non potranno accedere ai dati di [!INCLUDE[cds_long_md](includes/cds_long_md.md)] da [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-172">If you do not enable the connection now, the connection settings will be saved but users will not be able to access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] data from [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="0dfec-173">È possibile tornare a questa pagina e abilitare la connessione in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="0dfec-173">You can return to this page and enable the connection later.</span></span>  |

3. <span data-ttu-id="0dfec-174">Nel campo **Modello proprietà**, scegli se vuoi che una tabella team in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] sia proprietaria di nuovi record o uno o più utenti specifici.</span><span class="sxs-lookup"><span data-stu-id="0dfec-174">In the **Ownership Model** field, choose whether you want a team table in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to own new records, or one or more specific users.</span></span> <span data-ttu-id="0dfec-175">Se scegli **Persona**, devi specificare ciascun utente.</span><span class="sxs-lookup"><span data-stu-id="0dfec-175">If you choose **Person**, you must specify each user.</span></span> <span data-ttu-id="0dfec-176">Se scegli **Team**, la Business Unit predefinita verrà visualizzata nel campo **Business Unit associata**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-176">If you choose **Team**, the default business unit will display in the **Coupled Business Unit** field.</span></span>

    <!--Need to verify the details in this table, are these specific to Sales maybe?  IK: No they are not and no longer relevant 
    Enter the following advanced settings.-->

    <!-- |Field|Description|
    |-----|-----|
    |**[!INCLUDE[prod_short](includes/prod_short.md)] Users Must Map to CDS Users**|If you are using the Person ownership model, specify whether [!INCLUDE[prod_short](includes/prod_short.md)] user accounts must have a matching user accounts in [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. The **Microsoft 365 Authentication Email** of the [!INCLUDE[prod_short](includes/prod_short.md)] user must be the same as the **Primary Email** of the [!INCLUDE[crm_md](includes/crm_md.md)] user.<br /><br /> If you set the value to **Yes**, [!INCLUDE[prod_short](includes/prod_short.md)] users who do not have a matching [!INCLUDE[crm_md](includes/crm_md.md)] user account will not have [!INCLUDE[prod_short](includes/prod_short.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data directly from [!INCLUDE[prod_short](includes/prod_short.md)] is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] user account.<br /><br /> If you set the value to **No**, all [!INCLUDE[prod_short](includes/prod_short.md)] users will have [!INCLUDE[crm_md](includes/crm_md.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] connection (integration) user.|
    |**Current Business Central Salesperson is Mapped to a User**|Indicates whether your user account is mapped to an account in [!INCLUDE[crm_md](includes/crm_md.md)] double check the name of this field-->|
4. <span data-ttu-id="0dfec-177">Per verificare le impostazioni di connessione, scegli **Connessione**, quindi **Test connessione**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-177">To test the connection settings, choose **Connection**, and then **Test Connection**.</span></span>  

    > [!NOTE]  
    > <span data-ttu-id="0dfec-178">Se la crittografia dei dati non è abilitata in [!INCLUDE[prod_short](includes/prod_short.md)], verrà richiesto se si desidera abilitarla.</span><span class="sxs-lookup"><span data-stu-id="0dfec-178">If data encryption is not enabled in [!INCLUDE[prod_short](includes/prod_short.md)], you will be asked whether you want to enable it.</span></span> <span data-ttu-id="0dfec-179">Per abilitare la crittografia dei dati, scegliere **Sì** e immettere le informazioni necessarie.</span><span class="sxs-lookup"><span data-stu-id="0dfec-179">To enable data encryption, choose **Yes** and provide the required information.</span></span> <span data-ttu-id="0dfec-180">In caso contrario, scegliere **No**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-180">Otherwise, choose **No**.</span></span> <span data-ttu-id="0dfec-181">È possibile abilitare la crittografia dei dati in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="0dfec-181">You can enable data encryption later.</span></span> <span data-ttu-id="0dfec-182">Per ulteriori informazioni, vedere [Crittografia di dati in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) nella Guida per sviluppatori e amministratori.</span><span class="sxs-lookup"><span data-stu-id="0dfec-182">For more information, see [Encrypting Data in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) in the developer and administration help.</span></span>  
5. <span data-ttu-id="0dfec-183">Se la sincronizzazione di [!INCLUDE[cds_long_md](includes/cds_long_md.md)] non è ancora impostata, verrà richiesto se si desidera utilizzare l'impostazione di sincronizzazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="0dfec-183">If [!INCLUDE[cds_long_md](includes/cds_long_md.md)] synchronization is not already set up, you will be asked whether you want to use the default synchronization setup.</span></span> <span data-ttu-id="0dfec-184">A seconda se si desidera conservare o meno i record allineati in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] e [!INCLUDE[prod_short](includes/prod_short.md)]  scegliere **Sì** o **No**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-184">Depending on whether you want to keep records aligned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)], choose **Yes** or **No**.</span></span>

<!--
## Show Me the Process

The following video shows the steps to connect [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. <br>
  
> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4ArlP]

-->

## <a name="connecting-on-premises-versions"></a><span data-ttu-id="0dfec-185">Connessione alle versioni locali</span><span class="sxs-lookup"><span data-stu-id="0dfec-185">Connecting On-Premises Versions</span></span>

<span data-ttu-id="0dfec-186">Per connettere [!INCLUDE[prod_short](includes/prod_short.md)] on-premises a [!INCLUDE[cds_long_md](includes/cds_long_md.md)], è necessario specificare alcune informazioni nella pagina **Setup connessione a Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-186">To connect [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], you must specify some information on the **Dataverse Connection Setup** page.</span></span>

<span data-ttu-id="0dfec-187">Se si desidera connettersi utilizzando un account Azure Active Directory (Azure AD), è necessario registrare un'applicazione in Azure AD e fornire l'ID applicazione, il segreto del key vault e l'URL di reindirizzamento da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="0dfec-187">If you want to connect using an Azure Active Directory (Azure AD) account, you must register an application in Azure AD, and provide the application ID, key vault secret, and the redirect URL to use.</span></span> <span data-ttu-id="0dfec-188">L'URL di reindirizzamento è precompilato e dovrebbe funzionare per la maggior parte delle installazioni.</span><span class="sxs-lookup"><span data-stu-id="0dfec-188">The redirect URL is pre-populated and should work for most installations.</span></span> <span data-ttu-id="0dfec-189">È necessario configurare l'installazione per utilizzare HTTPS.</span><span class="sxs-lookup"><span data-stu-id="0dfec-189">You must set up your installation to use HTTPS.</span></span> <span data-ttu-id="0dfec-190">Per ulteriori informazioni, vedere [Configurazione di SSL per proteggere la connessione client Web di Business Central](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection).</span><span class="sxs-lookup"><span data-stu-id="0dfec-190">For more information, see [Configuring SSL to Secure the Business Central Web Client Connection](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection).</span></span> <span data-ttu-id="0dfec-191">Se si sta configurando il server in modo da avere una home page diversa, è sempre possibile cambiare l'URL.</span><span class="sxs-lookup"><span data-stu-id="0dfec-191">If you are setting up your server to have a different home page, you can always change the URL.</span></span> <span data-ttu-id="0dfec-192">Il segreto del client verrà salvato come stringa crittografata nel database.</span><span class="sxs-lookup"><span data-stu-id="0dfec-192">The client secret will be saved as an encrypted string in your database.</span></span> 

### <a name="prerequisites"></a><span data-ttu-id="0dfec-193">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="0dfec-193">Prerequisites</span></span>

<span data-ttu-id="0dfec-194">Dataverse deve utilizzare uno dei seguenti tipi di autenticazione:</span><span class="sxs-lookup"><span data-stu-id="0dfec-194">Dataverse must use one of the following authentication types:</span></span>

* <span data-ttu-id="0dfec-195">Office365 (legacy)</span><span class="sxs-lookup"><span data-stu-id="0dfec-195">Office365 (legacy)</span></span>

  > [!IMPORTANT]
  > <span data-ttu-id="0dfec-196">A partire da aprile 2022, Office365 (legacy) non sarà più supportato.</span><span class="sxs-lookup"><span data-stu-id="0dfec-196">Effective April 2022, Office365 (legacy) will no longer be supported.</span></span> <span data-ttu-id="0dfec-197">Per ulteriori informazioni, vedi [Importanti modifiche (deprecazioni) in arrivo per Power Apps, Power Automate e app per il coinvolgimento dei clienti](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).</span><span class="sxs-lookup"><span data-stu-id="0dfec-197">For more information, see [Important changes (deprecations) coming in Power Apps, Power Automate and customer engagement apps](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).</span></span>
* <span data-ttu-id="0dfec-198">Office365 (moderno, basato su client secret OAuth2)</span><span class="sxs-lookup"><span data-stu-id="0dfec-198">Office365 (modern, OAuth2 client secret based)</span></span>
* <span data-ttu-id="0dfec-199">OAuth</span><span class="sxs-lookup"><span data-stu-id="0dfec-199">OAuth</span></span>

### <a name="to-register-an-application-in-azure-ad-for-connecting-from-business-central-to-dataverse"></a><span data-ttu-id="0dfec-200">Per registrare un'applicazione in Azure AD per la connessione da Business Central a Dataverse</span><span class="sxs-lookup"><span data-stu-id="0dfec-200">To register an application in Azure AD for connecting from Business Central to Dataverse</span></span>

<span data-ttu-id="0dfec-201">I seguenti passaggi presuppongono che si stia utilizzando Azure AD per gestire identità e accesso.</span><span class="sxs-lookup"><span data-stu-id="0dfec-201">The following steps assume that you use Azure AD to manage identities and access.</span></span> <span data-ttu-id="0dfec-202">Per ulteriori informazioni sulla registrazione di un'applicazione in Azure AD vedere [Avvio rapido: registrare un'applicazione con la piattaforma di identità Microsoft](/azure/active-directory/develop/quickstart-register-app).</span><span class="sxs-lookup"><span data-stu-id="0dfec-202">For more information about registering an application in Azure AD, see [Quickstart: Register an application with the Microsoft identity platform](/azure/active-directory/develop/quickstart-register-app).</span></span> 

1. <span data-ttu-id="0dfec-203">Nel portale di Azure, in **Gestisci** nel riquadro di navigazione, selezionare **Autenticazione**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-203">In the Azure Portal, under **Manage** on the Navigation Pane, choose **Authentication**.</span></span>  
2. <span data-ttu-id="0dfec-204">In **URL di reindirizzamento**, aggiungere l'URL di reindirizzamento suggerito nella pagina **Setup connessione a Dataverse** in [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-204">Under **Redirect URLs**, add the redirect URL that is suggested on the **Dataverse Connection Setup** page in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span>
3. <span data-ttu-id="0dfec-205">In **Gestisci**, scegliere **Autorizzazioni API**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-205">Under **Manage**, choose **API permissions**.</span></span>
4. <span data-ttu-id="0dfec-206">In **Autorizzazioni configurate**, scegliere **Aggiungi un'autorizzazione** e quindi aggiungere le autorizzazioni delegate nella scheda **API Microsoft** come segue:</span><span class="sxs-lookup"><span data-stu-id="0dfec-206">Under **Configured permissions**, choose **Add a permission**, and then add delegated permissions on the **Microsoft APIs** tab as follows:</span></span>
    * <span data-ttu-id="0dfec-207">Per Business Central, aggiungere le autorizzazioni **Financials.ReadWrite.All**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-207">For Business Central, add the **Financials.ReadWrite.All** permissions.</span></span>
    * <span data-ttu-id="0dfec-208">Per Dynamics CRM, aggiungere le autorizzazioni **user_impersonation**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-208">For Dynamics CRM, add the **user_impersonation** permissions.</span></span>  

    > [!NOTE]
    > <span data-ttu-id="0dfec-209">Il nome dell'API Dynamics CRM potrebbe cambiare.</span><span class="sxs-lookup"><span data-stu-id="0dfec-209">The name of the Dynamics CRM API might change.</span></span>

5. <span data-ttu-id="0dfec-210">In **Gestisci**, scegliere **Certificati e segreti**, quindi creare un nuovo segreto per l'app.</span><span class="sxs-lookup"><span data-stu-id="0dfec-210">Under **Manage**, choose **Certificates & Secrets**, and then create a new secret for your app.</span></span> <span data-ttu-id="0dfec-211">Il segreto viene utilizzato in [!INCLUDE[prod_short](includes/prod_short.md)], nel campo **Segreto client** della pagina **Setup connessione a Dataverse** o archiviato in un archivio sicuro e fornito in una sottoscrizione di eventi come descritto in precedenza in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="0dfec-211">You will use the secret either in [!INCLUDE[prod_short](includes/prod_short.md)], in the **Client Secret** field on the **Dataverse Connection Setup** page, or store in a secure storage and provide it in an event subscriber as described earlier in this topic.</span></span>
6. <span data-ttu-id="0dfec-212">Scegliere **Panoramica**, quindi trovare il valore **ID applicazione (client)**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-212">Choose **Overview**, and then find the **Application (client) ID** value.</span></span> <span data-ttu-id="0dfec-213">Questo è l'ID client dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="0dfec-213">This is the Client ID of your application.</span></span> <span data-ttu-id="0dfec-214">È necessario inserirlo nella pagina **Setup connessione a Dataverse** nel campo **ID client** o archiviarlo in un archivio sicuro e fornirlo in una sottoscrizione di eventi.</span><span class="sxs-lookup"><span data-stu-id="0dfec-214">You must enter it either on the **Dataverse Connection Setup** page in the **Client ID** field, or store it in a secure storage and provide it in an event subscriber.</span></span>
7. <span data-ttu-id="0dfec-215">In [!INCLUDE[prod_short](includes/prod_short.md)], nella pagina **Setup connessione a Dataverse** nel campo **URL ambiente** inserire l'URL per l'ambiente [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="0dfec-215">In [!INCLUDE[prod_short](includes/prod_short.md)], on the **Dataverse Connection Setup** page, in the **Environment URL** field, enter the URL for your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment.</span></span>
8. <span data-ttu-id="0dfec-216">Per abilitare la connessione a [!INCLUDE[cds_long_md](includes/cds_long_md.md)], attivare l'interruttore **Abilitato**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-216">To enable the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], turn on the **Enabled** toggle.</span></span>
9. <span data-ttu-id="0dfec-217">Accedere con l'account amministratore per Azure Active Directory (questo account deve avere una licenza valida per [!INCLUDE[cds_long_md](includes/cds_long_md.md)] ed essere un amministratore nell'ambiente [!INCLUDE[cds_long_md](includes/cds_long_md.md)]).</span><span class="sxs-lookup"><span data-stu-id="0dfec-217">Sign in with your administrator account for Azure Active Directory (this account must have a valid license for [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and be an administrator in your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment).</span></span> <span data-ttu-id="0dfec-218">Dopo aver effettuato l'accesso, verrà richiesto di consentire all'applicazione registrata l'accesso a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] per conto dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="0dfec-218">After you sign in you will be prompted to allow your registered application to sign in to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on behalf of the organization.</span></span> <span data-ttu-id="0dfec-219">È necessario fornire il consenso per completare il setup.</span><span class="sxs-lookup"><span data-stu-id="0dfec-219">You must give consent to complete the setup.</span></span>

   > [!NOTE]
   > <span data-ttu-id="0dfec-220">Se non viene richiesto di accedere con il proprio account amministratore, è probabile che i popup siano bloccati.</span><span class="sxs-lookup"><span data-stu-id="0dfec-220">If you are not prompted to sign in with your administrator account, it is probably because pop ups are blocked.</span></span> <span data-ttu-id="0dfec-221">Per accedere, consentire i popup da `https://login.microsoftonline.com`.</span><span class="sxs-lookup"><span data-stu-id="0dfec-221">To sign in, allow pop-ups from `https://login.microsoftonline.com`.</span></span>

### <a name="to-disconnect-from-cds_long_md"></a><span data-ttu-id="0dfec-222">Per disconnettersi da [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="0dfec-222">To disconnect from [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span></span>

1. <span data-ttu-id="0dfec-223">Scegliere l'icona a forma di ![lampadina che consente di aprire la funzionalità delle informazioni](media/ui-search/search_small.png "Informazioni sull'operazione che si desidera eseguire"), immettere **Setup connessione Dataverse** e quindi scegliere il collegamento correlato.</span><span class="sxs-lookup"><span data-stu-id="0dfec-223">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="0dfec-224">Nella pagina **Setup connessione a Dataverse**, disattiva l'opzione **Abilitato**.</span><span class="sxs-lookup"><span data-stu-id="0dfec-224">On the **Dataverse Connection Setup** page, turn off the **Enabled** toggle.</span></span>  

## <a name="see-also"></a><span data-ttu-id="0dfec-225">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="0dfec-225">See Also</span></span>

[<span data-ttu-id="0dfec-226">Visualizzare lo stato di una sincronizzazione</span><span class="sxs-lookup"><span data-stu-id="0dfec-226">View the Status of a Synchronization</span></span>](admin-how-to-view-synchronization-status.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]