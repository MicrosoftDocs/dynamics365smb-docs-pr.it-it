---
title: Programmare l'esecuzione automatica di processi | Microsoft Docs
description: "I task pianificati sono gestiti dalla coda processi. Questi processi eseguono report e codeunit. È possibile impostare commesse da eseguire una sola volta o periodicamente."
author: edupont04
ms.service: dynamics365-financials
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 09/01/2017
ms.author: edupont
ms.translationtype: HT
ms.sourcegitcommit: d7fb34e1c9428a64c71ff47be8bcff174649c00d
ms.openlocfilehash: 712f0de68476a73871672c399bc5be72d511d9c1
ms.contentlocale: it-it
ms.lasthandoff: 03/22/2018

---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="55237-105">Utilizzare le code processi per pianificare i task</span><span class="sxs-lookup"><span data-stu-id="55237-105">Use Job Queues to Schedule Tasks</span></span>
<span data-ttu-id="55237-106">Le code processi in [!INCLUDE[d365fin](includes/d365fin_md.md)] consentono agli utenti di pianificare ed eseguire report e codeunit specifici.</span><span class="sxs-lookup"><span data-stu-id="55237-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="55237-107">È possibile impostare commesse da eseguire una sola volta o periodicamente.</span><span class="sxs-lookup"><span data-stu-id="55237-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="55237-108">Potrebbe essere necessario, ad esempio, eseguire il report **Agente - Statistiche vendita** ogni settimana, per tenere traccia delle vendite effettuate da un agente ogni settimana, oppure eseguire la codeunit **Elabora coda e-mail assistenza** ogni giorno, per verificare che i messaggi di posta elettronica in sospeso relativi agli ordini di assistenza vengano inviati ai clienti in modo tempestivo.</span><span class="sxs-lookup"><span data-stu-id="55237-108">For example, you might want to run the **Salesperson - Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Process Service E-mail Queue** codeunit daily, to make sure pending email messages to customers regarding their service orders are sent out in a timely manner.</span></span>  

## <a name="add-jobs-to-the-job-queue"></a><span data-ttu-id="55237-109">Aggiungere processi alla coda processi</span><span class="sxs-lookup"><span data-stu-id="55237-109">Add Jobs to the Job Queue</span></span>
<span data-ttu-id="55237-110">Nella finestra **Movimenti coda processi** sono elencati tutti i processi esistenti.</span><span class="sxs-lookup"><span data-stu-id="55237-110">The **Job Queue Entries** window lists all existing jobs.</span></span> <span data-ttu-id="55237-111">Se si aggiunge un nuovo movimento coda processi che si desidera pianificare, è necessario specificare informazioni sul tipo di oggetto che si intende eseguire, ad esempio un report o una codeunit, e il nome e l'ID dell'oggetto da eseguire.</span><span class="sxs-lookup"><span data-stu-id="55237-111">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="55237-112">È inoltre possibile aggiungere i parametri per specificare il comportamento del movimento coda processi.</span><span class="sxs-lookup"><span data-stu-id="55237-112">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="55237-113">Ad esempio, è possibile aggiungere un parametro per inviare solo ordini di vendita registrati.</span><span class="sxs-lookup"><span data-stu-id="55237-113">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="55237-114">È necessario disporre delle autorizzazioni per eseguire un report o una codeunit particolare oppure verrà restituito un errore quando la coda processi viene eseguita.</span><span class="sxs-lookup"><span data-stu-id="55237-114">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="55237-115">In alternativa, è possibile impostare un filtro nel campo **Filtro categoria coda processi**.</span><span class="sxs-lookup"><span data-stu-id="55237-115">Optionally, you can set a filter in the **Job Queue Category Filter** field.</span></span> <span data-ttu-id="55237-116">Le categorie della coda processi possono essere utilizzate per raggruppare i processi nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="55237-116">Job queue categories can be used to group jobs in the list.</span></span>

[!INCLUDE[d365fin](includes/d365fin_md.md)]<span data-ttu-id="55237-117"> esegue automaticamente i processi in base alle pianificazioni specificate per ogni movimento coda processi.</span><span class="sxs-lookup"><span data-stu-id="55237-117"> automatically runs the jobs according to the specified schedules for each job queue entry.</span></span> <span data-ttu-id="55237-118">È inoltre possibile avviare, arrestare e sospendere manualmente un movimento coda processi.</span><span class="sxs-lookup"><span data-stu-id="55237-118">You can also start, stop, and put a job queue entry on hold manually.</span></span>

### <a name="log-files"></a><span data-ttu-id="55237-119">File log</span><span class="sxs-lookup"><span data-stu-id="55237-119">Log Files</span></span>
<span data-ttu-id="55237-120">Gli errori vengono elencati nella finestra **Movimenti log coda processi** accessibile dalla barra multifunzione.</span><span class="sxs-lookup"><span data-stu-id="55237-120">Errors are listed in the **Job Queue Log Entries** window that you can access from the ribbon.</span></span> <span data-ttu-id="55237-121">È possibile anche risolvere gli errori della coda processi.</span><span class="sxs-lookup"><span data-stu-id="55237-121">You can also troubleshoot job queue errors.</span></span> <span data-ttu-id="55237-122">I dati generati quando viene eseguita una coda processi vengono archiviati nel database.</span><span class="sxs-lookup"><span data-stu-id="55237-122">Data that is generated when a job queue is run is stored in the database.</span></span>  

### <a name="background-posting-with-job-queues"></a><span data-ttu-id="55237-123">Registrazione background con le code processi</span><span class="sxs-lookup"><span data-stu-id="55237-123">Background Posting with Job Queues</span></span>
<span data-ttu-id="55237-124">Le code processi sono uno strumento efficace per pianificare l'esecuzione dei processi aziendali in background.</span><span class="sxs-lookup"><span data-stu-id="55237-124">Job queues are an effective tool to schedule the running of business processes in the background.</span></span> <span data-ttu-id="55237-125">Ad esempio, potrebbe esserci un'istanza in cui più utenti stanno tentando di registrare ordini di vendita contemporaneamente, ma può essere elaborato solo un ordine alla volta.</span><span class="sxs-lookup"><span data-stu-id="55237-125">For example, there may be an instance in which multiple users are trying to post sales orders at the same time, but only one order can be processed at a time.</span></span> <span data-ttu-id="55237-126">Impostando una routine di registrazione background, è possibile inserire le registrazioni in una coda per l'elaborazione in background.</span><span class="sxs-lookup"><span data-stu-id="55237-126">By setting up a background posting routine, you can place the postings in a queue for processing in the background.</span></span>  

 <span data-ttu-id="55237-127">In alternativa, è possibile pianificare le registrazioni nelle ore in cui è conveniente per la propria organizzazione.</span><span class="sxs-lookup"><span data-stu-id="55237-127">Alternatively, you may want to schedule postings for hours when it is convenient for your organization.</span></span> <span data-ttu-id="55237-128">Ad esempio, può avere senso nella propria l'attività commerciale eseguire determinate procedure quando si è conclusa la maggior parte dell'immissione dati del giorno.</span><span class="sxs-lookup"><span data-stu-id="55237-128">For example, it may make sense in your business to run certain routines when most of the data entry for the day has concluded.</span></span> <span data-ttu-id="55237-129">Per riuscirci, impostare la coda commesse sull'esecuzione di diversi report di registrazione tramite processo batch, come i report **Registra ordini vendite tramite processo batch**, **Registra fatture vendita tramite processo batch** e **Agg. note di cr. vend. tramite processo batch**.</span><span class="sxs-lookup"><span data-stu-id="55237-129">You can achieve this by setting the job queue up to run various batch post reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, and **Batch Post Sales Credit Memos** reports.</span></span>  

 [!INCLUDE[d365fin](includes/d365fin_md.md)]<span data-ttu-id="55237-130"> supporta la registrazione background per i seguenti tipi di documento:</span><span class="sxs-lookup"><span data-stu-id="55237-130"> supports background posting for the following document types:</span></span>  

-   <span data-ttu-id="55237-131">Vendite: ordine di vendita, ordine di reso, nota di credito, fattura</span><span class="sxs-lookup"><span data-stu-id="55237-131">Sales: sales order, return order, credit memo, invoice</span></span>  

-   <span data-ttu-id="55237-132">Acquisti: ordine di acquisto, ordine di reso, nota di credito, fattura</span><span class="sxs-lookup"><span data-stu-id="55237-132">Purchases: purchase order, return order, credit memo, invoice</span></span>  

 <span data-ttu-id="55237-133">Se la coda processi non può registrare l'ordine di vendita, lo stato viene modificato in **Errore** e l'ordine di vendita viene aggiunto all'elenco degli ordini di vendita che l'utente dovrà gestire.</span><span class="sxs-lookup"><span data-stu-id="55237-133">If the job queue cannot post the sales order, the status is changed to **Error**, and the sales order is added to the list of sales orders that the user will have to handle.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="55237-134">Quando viene programmato un documento per la registrazione e inizia il processo di registrazione, la routine di registrazione viene configurata automaticamente affinché scada entro due ore se la routine di registrazione smette di rispondere per un motivo qualsiasi.</span><span class="sxs-lookup"><span data-stu-id="55237-134">When you schedule a document for posting and the posting process begins, the posting routine is automatically configured to time out within two hours if the posting routine stops responding for any reason.</span></span>  

<span data-ttu-id="55237-135">Questa impostazione relativa alla coda processi viene eseguita nella finestra **Setup contabilità clienti e vendite** o nella finestra **Contabilità fornitori**.</span><span class="sxs-lookup"><span data-stu-id="55237-135">You set up this use of the job queue in the **Sales & Receivables Setup** window or the **Purchases & Payables** window, respectively.</span></span> <span data-ttu-id="55237-136">Nella Scheda dettaglio **Registrazione background**, scegliere la casella di controllo **Contabilizza documenti tramite la coda processi** e immettre le informazioni pertinenti.</span><span class="sxs-lookup"><span data-stu-id="55237-136">On the **Background Posting** FastTab, you choose the **Post Documents via Job Queue** check box and then fill in the relevant information.</span></span> <span data-ttu-id="55237-137">È inoltre possibile selezionare il campo **Codice categoria coda processi** per eseguire tutti i movimenti coda processi con tale codice.</span><span class="sxs-lookup"><span data-stu-id="55237-137">Here you can also use the **Job Queue Category Code** field to run all job queue entries with that code.</span></span> <span data-ttu-id="55237-138">Ad esempio, è possibile utilizzare la categoria **Regvend** per filtrare tutti gli ordini di vendita che corrispondono alla coda processi che presenta lo stesso codice categoria.</span><span class="sxs-lookup"><span data-stu-id="55237-138">For example, you can use  a **SalesPost** category that filters to all sales orders that match any job queue that has the same category code.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="55237-139">Se si imposta un processo che prevede la registrazione e la stampa di documenti e nella stampante viene visualizzata una finestra di dialogo, ad esempio una richiesta di credenziali o un avvertimento sul basso livello di inchiostro della stampante, il documento viene registrato ma non stampato.</span><span class="sxs-lookup"><span data-stu-id="55237-139">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="55237-140">Il movimento coda processi corrispondente alla fine incorre in un timeout e il campo **Stato** viene impostato su **Errore**.</span><span class="sxs-lookup"><span data-stu-id="55237-140">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span></span> <span data-ttu-id="55237-141">Di conseguenza, è consigliabile non utilizzare un setup di stampante che richieda l'interazione con la visualizzazione delle finestre di dialogo della stampante insieme alla registrazione in background.</span><span class="sxs-lookup"><span data-stu-id="55237-141">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>  

## <a name="use-the-my-job-queue-part"></a><span data-ttu-id="55237-142">Utilizzare la parte Coda processi</span><span class="sxs-lookup"><span data-stu-id="55237-142">Use the My Job Queue Part</span></span>
<span data-ttu-id="55237-143">Nella parte **Coda processi** sono riportati i movimenti delle code processi iniziati da un utente, ma non ancora completati.</span><span class="sxs-lookup"><span data-stu-id="55237-143">The **My Job Queue** part shows the job queues entries that a user has started, but which are not yet finished.</span></span> <span data-ttu-id="55237-144">Per impostazione predefinita, la parte non è visibile, pertanto è necessario aggiungerla alla Gestione ruolo utente utilizzata.</span><span class="sxs-lookup"><span data-stu-id="55237-144">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="55237-145">Per ulteriori informazioni, vedere [Modifica delle impostazioni di base](ui-change-basic-settings.md).</span><span class="sxs-lookup"><span data-stu-id="55237-145">For more information, see [Changing Basic Settings](ui-change-basic-settings.md).</span></span>  

<span data-ttu-id="55237-146">In questa parte, è possibile visualizzare i documenti che sono stati elaborati, o che sono in coda, per cui è stato specificato il proprio ID nel campo **ID utente assegnato**.</span><span class="sxs-lookup"><span data-stu-id="55237-146">In this part, you can see those documents that are being processed or that are queued for which your ID is specified in the **Assigned User ID** field.</span></span> <span data-ttu-id="55237-147">La parte consente di tenere traccia di tutti i movimenti della coda commesse, inclusi quelli relativi alla registrazione background.</span><span class="sxs-lookup"><span data-stu-id="55237-147">The part helps you keep track of all job queue entries, including those related to background posting.</span></span> <span data-ttu-id="55237-148">La parte indica immediatamente se si è verificato un errore durante la registrazione di un documento oppure se sono presenti errori in un movimento coda commesse.</span><span class="sxs-lookup"><span data-stu-id="55237-148">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="55237-149">La parte consente inoltre di annullare la registrazione del documento se non è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="55237-149">The part also lets you cancel a document posting if it is not running.</span></span>  

## <a name="security"></a><span data-ttu-id="55237-150">Protezione</span><span class="sxs-lookup"><span data-stu-id="55237-150">Security</span></span>  
<span data-ttu-id="55237-151">I movimenti coda processi vengono eseguiti in base alle autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="55237-151">Job queue entries run based on permissions.</span></span> <span data-ttu-id="55237-152">Le autorizzazioni devono consentire l'esecuzione del report oppure della codeunit.</span><span class="sxs-lookup"><span data-stu-id="55237-152">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="55237-153">Quando una coda processi è attivata manualmente, viene eseguita con le credenziali dell'utente.</span><span class="sxs-lookup"><span data-stu-id="55237-153">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="55237-154">Quando una coda processi è attivata come un task pianificato, viene eseguita con le credenziali dell'istanza server.</span><span class="sxs-lookup"><span data-stu-id="55237-154">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="55237-155">Quando una commessa viene eseguita, viene eseguita con le credenziali della coda processi che ne esegue l'attivazione.</span><span class="sxs-lookup"><span data-stu-id="55237-155">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="55237-156">Tuttavia, all'utente che ha creato il movimento coda processi è inoltre necessario disporre dei permessi.</span><span class="sxs-lookup"><span data-stu-id="55237-156">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="55237-157">Quando un processo viene "eseguito nella sessione utente" (ad esempio durante la registrazione background), viene eseguito con le credenziali dell'utente che ha creato il processo.</span><span class="sxs-lookup"><span data-stu-id="55237-157">When a job is “run in user session” (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="55237-158">Se si utilizza il set di autorizzazioni SUPER fornito con [!INCLUDE[d365fin](includes/d365fin_md.md)], la società e gli utenti dispongono delle autorizzazioni per eseguire tutti gli oggetti.</span><span class="sxs-lookup"><span data-stu-id="55237-158">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="55237-159">In questo caso, l'accesso per ogni utente è limitato solo dalle autorizzazioni per i dati.</span><span class="sxs-lookup"><span data-stu-id="55237-159">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="55237-160">Utilizzo delle code processi in modo efficace</span><span class="sxs-lookup"><span data-stu-id="55237-160">Using Job Queues Effectively</span></span>  
<span data-ttu-id="55237-161">Il record del movimento coda processi ha molti campi di cui lo scopo è quello di portare i parametri in una codeunit specificata per essere eseguita con una coda processi.</span><span class="sxs-lookup"><span data-stu-id="55237-161">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="55237-162">Questo significa inoltre che le codeunit che devono essere eseguite mediante la coda processi devono essere specificate con il record Movimento coda processi come parametro nel trigger **OnRun**.</span><span class="sxs-lookup"><span data-stu-id="55237-162">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="55237-163">Cio fornisce un livello di sicurezza aggiuntivo, poiché impedisce agli utenti di eseguire codeunit scelte casualmente tramite la coda processi.</span><span class="sxs-lookup"><span data-stu-id="55237-163">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="55237-164">Se l'utente deve necessariamente passare i parametri a un report, l'unico modo possibile è eseguire il wrapping dell'esecuzione del report in una codeunit, che analizzerà i parametri di input e li immetterà nel report prima dell'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="55237-164">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="see-also"></a><span data-ttu-id="55237-165">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="55237-165">See Also</span></span>  
[<span data-ttu-id="55237-166">Setup e amministrazione in Finance and Operations, Business edition</span><span class="sxs-lookup"><span data-stu-id="55237-166">Setup and Administration in Finance and Operations, Business edition</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="55237-167">Impostazione di Finance and Operations, Business edition</span><span class="sxs-lookup"><span data-stu-id="55237-167">Setting Up Finance and Operations, Business edition</span></span>](setup.md)  

